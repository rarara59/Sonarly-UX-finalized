PHASE 3B: EXTENDED CHAIN (3 Prompts)
PROMPT 3B1: Add EndpointSelector to Foundation Chain
SINGLE FOCUS: Add EndpointSelector to existing 3-component chain
EXPLICIT FILE PATHS:

Create: tests/integration/4-component-chain.test.js
Import: EndpointSelector + existing 3 components

INCREMENTAL IMPLEMENTATION:

Add EndpointSelector with initializeEndpoints() API (Phase 2 finding)
Configure with Helius, Chainstack, Public RPC endpoints
Integrate endpoint selection into existing 3-component chain
Test endpoint failover when one endpoint fails
Validate load balancing across multiple endpoints

CLEAR SUCCESS CRITERIA:

Test passes with 4-component integrated chain
Multiple endpoints used during test execution
Endpoint failover works when endpoint blocked
Request flow maintained through endpoint selection

REQUIREMENTS-BASED VALIDATION:

Endpoint distribution: >1 endpoint used
Failover speed: <3 requests to detect and switch endpoints
Success rate: >65% with 4-component overhead
Load balancing: No single endpoint >80% usage