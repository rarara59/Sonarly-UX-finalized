PROMPT 4B2: PM2 Memory Optimization and Configuration Generation
SINGLE FOCUS: Generate mathematically optimized PM2 configuration based on measured memory patterns
EXPLICIT FILE PATHS:

CREATE: scripts/calculate-pm2-config.js
CREATE: ecosystem.config.js (PM2 configuration output)
CREATE: scripts/validate-pm2-limits.js
IMPORT: results/memory-growth-data.json from 4B1

INCREMENTAL IMPLEMENTATION:

Analyze memory growth data from 4B1 trading load test
Calculate per-component and total system memory growth rates
Project memory usage for 4-hour trading cycles with 20% safety margins
Generate PM2 configuration with calculated memory limits and restart intervals
Test PM2 configuration with short validation run
Validate restart cycles maintain trading continuity
Generate memory monitoring scripts for production use

CLEAR SUCCESS CRITERIA:

PM2 configuration generated from actual measured memory data
Memory limits calculated with 20% safety margins above projected 4-hour usage
PM2 restart cycles prevent memory-related crashes
Configuration validation shows stable operation under PM2 management
Production memory monitoring scripts functional

REQUIREMENTS-BASED VALIDATION:

Memory Accuracy: Limits based on actual 60-minute trading load measurements
Safety Margins: 20% buffer above projected 4-hour memory growth
Restart Timing: 4-hour cycles Â±30 minutes based on growth rate calculations
PM2 Validation: System runs stably under PM2 with calculated limits
Trading Continuity: Restarts complete without losing detection capability
Production Monitoring: Memory tracking scripts operational with <2% overhead